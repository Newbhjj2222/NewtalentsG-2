<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="stylesheet" href="form.css">
 <link rel="stylesheet" href="forms.css">
  <title>gurisha inkuru</title>
</head>
<body>
  <div class="sell-story" id="form">
    
       <header>
         <img src="pro11.png" alt="">
         <div class="adress">
           <h2>Adresss</h2>
         <input type="text" placeholder="Author name..." required>
         <input type="number" placeholder="Whatsapp number...">
         <input type="number" placeholder="phone number.." required>
         <input type="number" placeholder="MoMo number..." required>
     <input type="text" placeholder="Email" required>
         </div>
       </header> 
       <h3>GURISHA INKURU NA NEW TALENTS STORIES GROUP</h3>
       <form action="sell">
         <div class="sell">
            <input type="text" id="name"
            placeholder="name of your story..." required>
            <input type="number" id="name" placeholder="number of episodes..." required>
           <h4>shyira mo inkuru yawe</h4>
           <p>niba inkuru yawe irenze episode 80, wemerewe kohereza form inshuro ebyiri.</p>
             <div id="story" contenteditable="true">Episode...1</div>
<div id="story" contenteditable="true">Episode...2</div>
<div id="story" contenteditable="true">Episode...3</div>
<div id="story" contenteditable="true">Episode...4</div>
<div id="story" contenteditable="true">Episode...5</div>
<div id="story" contenteditable="true">Episode...6</div>
<div id="story" contenteditable="true">Episode...7</div>
<div id="story" contenteditable="true">Episode...8</div>
<div id="story" contenteditable="true">Episode...9</div>
<div id="story" contenteditable="true">Episode...10</div>
<div id="story" contenteditable="true">Episode...11</div>
<div id="story" contenteditable="true">Episode...12</div>
<div id="story" contenteditable="true">Episode...13</div>
<div id="story" contenteditable="true">Episode...14</div>
<div id="story" contenteditable="true">Episode...15</div>
<div id="story" contenteditable="true">Episode...16</div>
<div id="story" contenteditable="true">Episode...17</div>
<div id="story" contenteditable="true">Episode...18</div>
<div id="story" contenteditable="true">Episode...19</div>
<div id="story" contenteditable="true">Episode...20</div>
<div id="story" contenteditable="true">Episode...21</div>
<div id="story" contenteditable="true">Episode...22</div>
<div id="story" contenteditable="true">Episode...23</div>
<div id="story" contenteditable="true">Episode...24</div>
<div id="story" contenteditable="true">Episode...25</div>
<div id="story" contenteditable="true">Episode...26</div>
<div id="story" contenteditable="true">Episode...27</div>
<div id="story" contenteditable="true">Episode...28</div>
<div id="story" contenteditable="true">Episode...29</div>
<div id="story" contenteditable="true">Episode...30</div>
<div id="story" contenteditable="true">Episode...31</div>
<div id="story" contenteditable="true">Episode...32</div>
<div id="story" contenteditable="true">Episode...33</div>
<div id="story" contenteditable="true">Episode...34</div>
<div id="story" contenteditable="true">Episode...35</div>
<div id="story" contenteditable="true">Episode...36</div>
<div id="story" contenteditable="true">Episode...37</div>
<div id="story" contenteditable="true">Episode...38</div>
<div id="story" contenteditable="true">Episode...39</div>
<div id="story" contenteditable="true">Episode...40</div>
<div id="story" contenteditable="true">Episode...41</div>
<div id="story" contenteditable="true">Episode...42</div>
<div id="story" contenteditable="true">Episode...43</div>
<div id="story" contenteditable="true">Episode...44</div>
<div id="story" contenteditable="true">Episode...45</div>
<div id="story" contenteditable="true">Episode...46</div>
<div id="story" contenteditable="true">Episode...47</div>
<div id="story" contenteditable="true">Episode...48</div>
<div id="story" contenteditable="true">Episode...49</div>
<div id="story" contenteditable="true">Episode...50</div>
<div id="story" contenteditable="true">Episode...51</div>
<div id="story" contenteditable="true">Episode...52</div>
<div id="story" contenteditable="true">Episode...53</div>
<div id="story" contenteditable="true">Episode...54</div>
<div id="story" contenteditable="true">Episode...55</div>
<div id="story" contenteditable="true">Episode...56</div>
<div id="story" contenteditable="true">Episode...57</div>
<div id="story" contenteditable="true">Episode...58</div>
<div id="story" contenteditable="true">Episode...59</div>
<div id="story" contenteditable="true">Episode...60</div>
<div id="story" contenteditable="true">Episode...61</div>
<div id="story" contenteditable="true">Episode...62</div>
<div id="story" contenteditable="true">Episode...63</div>
<div id="story" contenteditable="true">Episode...64</div>
<div id="story" contenteditable="true">Episode...65</div>
<div id="story" contenteditable="true">Episode...66</div>
<div id="story" contenteditable="true">Episode...67</div>
<div id="story" contenteditable="true">Episode...68</div>
<div id="story" contenteditable="true">Episode...69</div>
<div id="story" contenteditable="true">Episode...70</div>
<div id="story" contenteditable="true">Episode...71</div>
<div id="story" contenteditable="true">Episode...72</div>
<div id="story" contenteditable="true">Episode...73</div>
<div id="story" contenteditable="true">Episode...74</div>
<div id="story" contenteditable="true">Episode...75</div>
<div id="story" contenteditable="true">Episode...76</div>
<div id="story" contenteditable="true">Episode...77</div>
<div id="story" contenteditable="true">Episode...78</div>
<div id="story" contenteditable="true">Episode...79</div>
<div id="story" contenteditable="true">Episode...80</div>
            <label for="checkbox">Uremera igenwa ry'ibiciro byacu?</label>
         <input type="checkbox" name="" id="check">
         <label for="check">Uremera amategeko n'amabwiriza ya NewtalentsG?</label>
         <input type="checkbox" name="" id="check">
         <label for="check">Inkuru yawe mbere yo kwishyurwa irabanza isuzumwe</label>
       
        
         </div>
         
         
       </form>
<button class="button__loader">
            <span class="button__text">
                Loading...
            </span>
        </button>
<button type="submit">Sell</button>
  </div>
  
<script type="module">
   import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
   import { getAuth,signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";
   import { getFirestore, doc, getDoc, updateDoc, deleteField, deleteDoc, setDoc, collection, getDocs,addDoc, serverTimestamp} from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";
   import { getStorage, ref, uploadBytes,getDownloadURL} from "https://www.gstatic.com/firebasejs/10.14.1/firebase-storage.js";

   const firebaseConfig = {
       apiKey: "AIzaSyAvwNyhKiKFyI-r6MDDk7BH3iq7P61z594",
       authDomain: "newtalents-a7c29.firebaseapp.com",
       databaseURL: "https://newtalents-a7c29-default-rtdb.firebaseio.com",
       projectId: "newtalents-a7c29",
       storageBucket: "newtalents-a7c29.appspot.com",
       messagingSenderId: "507408992610",
       appId: "1:507408992610:web:05ce220a4cb4922de9843b"
   };

   const app = initializeApp(firebaseConfig);
   const auth = getAuth(app);
   const db = getFirestore(app);
   const storage = getStorage(app);
   // Baza Storage na Firestore
   
   // Function to handle form submission
document.querySelector("button[type='submit']").addEventListener("click", async (e) => {
  e.preventDefault();

  // Collect form data
  const form = document.getElementById("form");
  const authorName = form.querySelector("input[placeholder='Author name...']").value;
  const whatsappNumber = form.querySelector("input[placeholder='Whatsapp number...']").value;
  const phoneNumber = form.querySelector("input[placeholder='phone number..']").value;
  const momoNumber = form.querySelector("input[placeholder='MoMo number...']").value;
  const email = form.querySelector("input[placeholder='Email']").value;
  const storyName = form.querySelector("input[placeholder='name of your story...']").value;
  const numberOfEpisodes = form.querySelector("input[placeholder='number of episodes...']").value;

  // Collect episodes
  const episodes = [];
const storyDiv = document.getElementById("story");

if (storyDiv && storyDiv.innerHTML.trim()) {
  episodes.push(storyDiv.innerHTML.trim());
}

  // Create story data object
  const storyData = {
    authorName,
    whatsappNumber,
    phoneNumber,
    momoNumber,
    email,
    storyName,
    numberOfEpisodes,
    episodes,
    dateSubmitted: new Date()
  };

  // Save to Firestore
  try {
    const docRef = doc(db, "stories", `${storyName}-${new Date().getTime()}`);
    await setDoc(docRef, storyData);
    alert("Inkuru yawe yoherejwe neza! tugiye kuyisuzuma, vuba turakwandikira kuri Whatsapp tuguhe n'ubwishyu.");
  } catch (error) {
    console.error("Ikosa ryabaye mu kohereza inkuru:", error);
    alert("Habaye ikibazo, ongera ugerageze.");
  }
});
   
   
   
   
   </script>
  
</body>
</html>
