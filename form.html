<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="stylesheet" href="form.css">
 <link rel="stylesheet" href="forms.css">
  <title>gurisha inkuru</title>
</head>
<body>
  <div class="sell-story" id="form">
    
       <header>
         <img src="pro11.png" alt="">
         <div class="adress">
           <h2>Adresss</h2>
         <input type="text" placeholder="Author name..." required>
         <input type="number" placeholder="Whatsapp number...">
         <input type="number" placeholder="phone number.." required>
         <input type="number" placeholder="MoMo number..." required>
     <input type="text" placeholder="Email" required>
         </div>
       </header> 
       <h3>GURISHA INKURU NA NEW TALENTS STORIES GROUP</h3>
       <form action="sell">
         <div class="sell">
            <input type="text" id="name"
            placeholder="name of your story..." required>
            <input type="number" id="name" placeholder="number of episodes..." required>
           <h4>shyira mo inkuru yawe</h4>
           <p>niba inkuru yawe irenze episode 45, wemerewe kohereza form inshuro ebyiri.</p>
             <input type="text" id="story" placeholder="Episode..1">
             <input type="text" id="story" placeholder="episode..2">
            <input type="text" id="story" placeholder="episode..3">
            <input type="text" id="story" placeholder="Episode...4">
            <input type="text" id="story" placeholder="Episode..5">
            <input type="text" id="story" placeholder="Episode...6">
            <input type="text" id="story" placeholder="Episode...7">
            <input type="text" id="story" placeholder="Episode...8">
            <input type="text" id="story" placeholder="Episode...9">
            <input type="text" id="story" placeholder="Episode...10">
           <input type="text" id="story" placeholder="Episode..11">
             <input type="text" id="story" placeholder="episode..12">
            <input type="text" id="story" placeholder="episode..13">
            <input type="text" id="story" placeholder="Episode...14">
            <input type="text" id="story" placeholder="Episode..15">
            <input type="text" id="story" placeholder="Episode...16">
            <input type="text" id="story" placeholder="Episode...17">
            <input type="text" id="story" placeholder="Episode...18">
            <input type="text" id="story" placeholder="Episode...19">
            <input type="text" id="story" placeholder="Episode...20">
             <input type="text" id="story" placeholder="Episode..21">
             <input type="text" id="story" placeholder="episode..22">
            <input type="text" id="story" placeholder="episode..23">
            <input type="text" id="story" placeholder="Episode...24">
            <input type="text" id="story" placeholder="Episode..25"
            <input type="text" id="story" placeholder="Episode...26">
            <input type="text" id="story" placeholder="Episode...27">
            <input type="text" id="story" placeholder="Episode...28">
            <input type="text" id="story" placeholder="Episode...29">
            <input type="text" id="story" placeholder="Episode...30">
           <input type="text" id="story" placeholder="Episode..31">
             <input type="text" id="story" placeholder="episode..32">
            <input type="text" id="story" placeholder="episode..33">
            <input type="text" id="story" placeholder="Episode...34">
            <input type="text" id="story" placeholder="Episode..35">
            <input type="text" id="story" placeholder="Episode...36">
            <input type="text" id="story" placeholder="Episode...37">
            <input type="text" id="story" placeholder="Episode...38">
            <input type="text" id="story" placeholder="Episode...39">
            <input type="text" id="story" placeholder="Episode...40">
             <input type="text" id="story" placeholder="Episode..41">
             <input type="text" id="story" placeholder="episode..42">
            <input type="text" id="story" placeholder="episode..43">
            <input type="text" id="story" placeholder="Episode...44">
            <input type="text" id="story" placeholder="Episode..45">
            <label for="checkbox">Uremera igenwa ry'ibiciro byacu?</label>
         <input type="checkbox" name="" id="check">
         <label for="check">Uremera amategeko n'amabwiriza ya NewtalentsG?</label>
         <input type="checkbox" name="" id="check">
         <label for="check">Inkuru yawe mbere yo kwishyurwa irabanza isuzumwe</label>
       
        
         </div>
         
         
       </form>
<button class="button__loader">
            <span class="button__text">
                Loading...
            </span>
        </button>
<button type="submit">Sell</button>
  </div>
  
<script type="module">
   import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
   import { getAuth,signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";
   import { getFirestore, doc, getDoc, updateDoc, deleteField, deleteDoc, setDoc, collection, getDocs,addDoc, serverTimestamp} from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";
   import { getStorage, ref, uploadBytes,getDownloadURL} from "https://www.gstatic.com/firebasejs/10.14.1/firebase-storage.js";

   const firebaseConfig = {
       apiKey: "AIzaSyAvwNyhKiKFyI-r6MDDk7BH3iq7P61z594",
       authDomain: "newtalents-a7c29.firebaseapp.com",
       databaseURL: "https://newtalents-a7c29-default-rtdb.firebaseio.com",
       projectId: "newtalents-a7c29",
       storageBucket: "newtalents-a7c29.appspot.com",
       messagingSenderId: "507408992610",
       appId: "1:507408992610:web:05ce220a4cb4922de9843b"
   };

   const app = initializeApp(firebaseConfig);
   const auth = getAuth(app);
   const db = getFirestore(app);
   const storage = getStorage(app);
   // Baza Storage na Firestore
   
   // Function to handle form submission
document.querySelector("button[type='submit']").addEventListener("click", async (e) => {
  e.preventDefault();

  // Collect form data
  const form = document.getElementById("form");
  const authorName = form.querySelector("input[placeholder='Author name...']").value;
  const whatsappNumber = form.querySelector("input[placeholder='Whatsapp number...']").value;
  const phoneNumber = form.querySelector("input[placeholder='phone number..']").value;
  const momoNumber = form.querySelector("input[placeholder='MoMo number...']").value;
  const email = form.querySelector("input[placeholder='Email']").value;
  const storyName = form.querySelector("input[placeholder='name of your story...']").value;
  const numberOfEpisodes = form.querySelector("input[placeholder='number of episodes...']").value;

  // Collect episodes
  const episodes = [];
  form.querySelectorAll("input[id='story']").forEach((input) => {
    if (input.value.trim()) {
      episodes.push(input.value.trim());
    }
  });

  // Create story data object
  const storyData = {
    authorName,
    whatsappNumber,
    phoneNumber,
    momoNumber,
    email,
    storyName,
    numberOfEpisodes,
    episodes,
    dateSubmitted: new Date()
  };

  // Save to Firestore
  try {
    const docRef = doc(db, "stories", `${storyName}-${new Date().getTime()}`);
    await setDoc(docRef, storyData);
    alert("Inkuru yawe yoherejwe neza! tugiye kuyisuzuma, vuba turakwandikira kuri Whatsapp tuguhe n'ubwishyu.");
  } catch (error) {
    console.error("Ikosa ryabaye mu kohereza inkuru:", error);
    alert("Habaye ikibazo, ongera ugerageze.");
  }
});
   
   
   
   
   </script>
  
</body>
</html>
